<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popping</title>

    <!-- reset-css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@4.0.1/reset.min.css" />

    <!-- Pretendard font -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

    <!-- main css -->
    <link rel="stylesheet" href="./css/test.css">

    
</head>
<body>
    <div class="calendar">
    <div class="calendar-header">
        <button id="prevBtn">&lt;</button>
        <h1 id="currentMonthYear"></h1>
        <button id="nextBtn">&gt;</button>
    </div>
    <div class="calendar-weekdays">
        <div>Sun</div>
        <div>Mon</div>
        <div>Tue</div>
        <div>Wed</div>
        <div>Thu</div>
        <div>Fri</div>
        <div>Sat</div>
    </div>
    <div id="calendarDays" class="calendar-days">
        </div>
</div>
</body>

<script>
    // calendar.js
const currentMonthYear = document.getElementById('currentMonthYear');
const calendarDays = document.getElementById('calendarDays');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

let currentDate = new Date();

function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();

    // 현재 월의 첫째 날과 마지막 날짜
    const firstDay = new Date(year, month, 1).getDay(); // 0(일요일) ~ 6(토요일)
    const lastDate = new Date(year, month + 1, 0).getDate();

    currentMonthYear.textContent = `${year}. ${String(month + 1).padStart(2, '0')}`;
    calendarDays.innerHTML = ''; // 기존 날짜 초기화

    // 지난 달의 '빈' 날짜들 생성
    for (let i = 0; i < firstDay; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.classList.add('day', 'empty');
        calendarDays.appendChild(emptyDay);
    }

    // 현재 월의 날짜들 생성
    for (let i = 1; i <= lastDate; i++) {
        const day = document.createElement('div');
        day.classList.add('day');
        day.textContent = i;
        
        // 여기에 이벤트 데이터를 불러와서 삽입하는 로직 추가
        // 예: day.innerHTML += '<ul><li>이벤트명</li></ul>';

        // 오늘 날짜 표시
        if (i === new Date().getDate() && month === new Date().getMonth()) {
            day.classList.add('is-today');
        }

        calendarDays.appendChild(day);
    }
}

prevBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
});

nextBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
});

// 페이지 로드 시 달력 렌더링
document.addEventListener('DOMContentLoaded', renderCalendar);
</script>
</html>
